<!DOCTYPE html>
<html>
    <head>
        <title>Alternative coffee display</title>
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">        <style>
            body {
                font-family: 'Montserrat', sans-serif;
                padding: 0; 
                margin: 0;
                background-color: #002D3A;
                }

            h1 {
                text-align: center;
                font-size: 6em;
                color: #EFECE4;
            }
            #cups {
                text-align: center;
                font-size: 15em;
                color: #EFECE4;
            }
            .meter {
                width: 100%;
                height: 4em;
                align-content: center;
                position: absolute;
                bottom: 0;
            }
        </style>
    </head>
<body>

<h1>Covfefe in the pot</h1>

<div id="cups"></div>
<meter class="meter" low="2" value="0" min="0" max="10"></meter><br>


<script>
    function update(){
        $.get( "api", function( data ) {
            apiData = JSON.parse(data)
            console.log(apiData.cups)
            $(".meter").attr("value", apiData.cups);
            $("#cups").text(apiData.cups);
        });
    }
    update();
    setInterval(function(){ update(); }, 3000);

</script>
</body>
</html>
