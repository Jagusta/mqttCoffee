<!DOCTYPE html>
<html>
    <head>
        <title>Alternative coffee display</title>
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet">
        <style>
            body {
                font-family: 'Titillium Web', sans-serif;
                padding: 0; 
                margin: 0;
                }
            meter {
                width: 100%;
                height: 4em;
                align-content: center;
                position: absolute;
                bottom: 0;
                }
            h1 {
                text-align: center;
                font-size: 3em;
            }
            #cups {
                text-align: center;
                font-size: 8em;
                vertical-align: middle;
                position: absolute;
                top: 50%;
                left: 40%;
                margin-right: -50%;
            }
        </style>
    </head>
<body>

<h1>Alternative Coffee Display</h1>

<div id="cups"></div>
<meter id="mittari" low="2" value="0" min="0" max="10"></meter><br>


<script>
    function update(){
        $.get( "api", function( data ) {
            apiData = JSON.parse(data)
            console.log(apiData.cups)
            $("#mittari").attr("value", apiData.cups);
            $("#cups").text(apiData.cups);
        });
    }
    update();
    setInterval(function(){ update(); }, 3000);

</script>
</body>
</html>
